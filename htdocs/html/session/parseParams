<%perl>
  my %res;
  # Extract URL encoded parameters
  while( $url =~ s/_(\w)(\w*?)(?=[_\.])// ) {
    $res{$1} = $2;
  };

  # Default to configured, then 'default' theme if none is given in URL
  $res{t} ||= #$channelconf->get(theme) || 
            'default';

  # Set theme in %spoejs
  $spoejs{theme} = $res{t};

  return ( $url, %res );
</%perl>
<%args>
$url => undef
</%args>
